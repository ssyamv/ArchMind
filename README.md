# ArchMind AI

> åŸºäº RAG æŠ€æœ¯çš„æœ¬åœ°ä¼˜å…ˆæ™ºèƒ½äº§å“å·¥å…·â€”â€”è®©æ¯ä¸€ä»½å†å²æ–‡æ¡£éƒ½æˆä¸ºæ–°åŠŸèƒ½çš„åŸºç¡€

[![Nuxt](https://img.shields.io/badge/Nuxt-3.21-00DC82?logo=nuxt.js)](https://nuxt.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14+-4169E1?logo=postgresql)](https://www.postgresql.org/)
[![Vue](https://img.shields.io/badge/Vue-3.5-4FC08D?logo=vue.js)](https://vuejs.org/)
[![License](https://img.shields.io/badge/License-GPL--3.0-blue)](LICENSE)
[![Version](https://img.shields.io/badge/Version-0.2.1-blue)](CHANGELOG.md)

---

## ç›®å½•

- [ç®€ä»‹](#ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [åŠŸèƒ½æˆªå›¾](#åŠŸèƒ½æˆªå›¾)
- [AI æ¨¡å‹æ”¯æŒ](#ai-æ¨¡å‹æ”¯æŒ)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [æ–‡æ¡£å¯¼èˆª](#æ–‡æ¡£å¯¼èˆª)
- [è·¯çº¿å›¾](#è·¯çº¿å›¾)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è´¡çŒ®è€…](#è´¡çŒ®è€…)

---

## ç®€ä»‹

**ArchMind AI** æ˜¯ä¸€ä¸ªæœ¬åœ°ä¼˜å…ˆçš„æ™ºèƒ½äº§å“å·¥å…·ï¼Œé€šè¿‡ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰å°†ä¼ä¸šå†å²æ–‡æ¡£è½¬åŒ–ä¸ºé«˜è´¨é‡ PRD å’Œå¯äº¤äº’ HTML åŸå‹ã€‚

### ä¸ºä»€ä¹ˆéœ€è¦ ArchMindï¼Ÿ

äº§å“å›¢é˜Ÿåœ¨è¿­ä»£è¿‡ç¨‹ä¸­é¢ä¸´çš„æ ¸å¿ƒç—›ç‚¹ï¼š

- å†å²æ–‡æ¡£åˆ†æ•£ï¼Œæ–°åŠŸèƒ½è®¾è®¡æ—¶æ‰¾ä¸åˆ°å‚è€ƒ
- æ–°äº§å“ç»ç†éœ€è¦å¤§é‡æ—¶é—´ç†è§£å†å²ä¸šåŠ¡é€»è¾‘
- é‡å¤ç¼–å†™ç›¸ä¼¼åŠŸèƒ½çš„ PRDï¼Œæ•ˆç‡ä½ä¸‹
- åŸå‹åˆ¶ä½œè€—è´¹å¤§é‡æ—¶é—´ï¼Œéš¾ä»¥å¿«é€ŸéªŒè¯æƒ³æ³•

**ArchMind çš„è§£å†³æ–¹æ¡ˆ**ï¼šå°†æ‰€æœ‰å†å²æ–‡æ¡£ç»Ÿä¸€ç®¡ç†ï¼Œé€šè¿‡ AI è‡ªåŠ¨æ£€ç´¢ç›¸å…³å†…å®¹å¹¶è¾…åŠ©ç”Ÿæˆæ–°çš„ PRDï¼Œæ¶ˆé™¤äº§å“è¿­ä»£ä¸­çš„é€»è¾‘æ–­å±‚ã€‚

### é€‚ç”¨åœºæ™¯

- äº§å“ç»ç†å¿«é€Ÿç”Ÿæˆç»“æ„åŒ– PRDï¼Œå‚è€ƒå†å²åŠŸèƒ½è®¾è®¡
- æŠ€æœ¯å›¢é˜Ÿå»ºç«‹çŸ¥è¯†åº“ï¼Œå¿«é€Ÿæ£€ç´¢å†å²æŠ€æœ¯å†³ç­–
- æ–°æˆå‘˜å¿«é€Ÿä¸Šæ‰‹ï¼Œç†è§£å†å²ä¸šåŠ¡é€»è¾‘
- è®¾è®¡å¸ˆå‚è€ƒå†å² UI/UX è§„èŒƒï¼Œä¿æŒä¸€è‡´æ€§

---

## æ ¸å¿ƒç‰¹æ€§

### æ™ºèƒ½æ–‡æ¡£ç®¡ç†

- æ”¯æŒ **PDFã€DOCXã€Markdown** å¤šæ ¼å¼ä¸Šä¼ 
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šå®Œæ•´çš„æ–‡æ¡£ç‰ˆæœ¬å†å²ï¼Œæ”¯æŒå›é€€
- **æ™ºèƒ½å»é‡**ï¼šSHA-256 å“ˆå¸Œè‡ªåŠ¨æ£€æµ‹é‡å¤æ–‡æ¡£
- **æ‰¹é‡ä¸Šä¼ **ï¼šå¹¶è¡Œå¤„ç†ï¼Œ10 ä¸ªæ–‡ä»¶çº¦ 8 ç§’å®Œæˆ
- **æ ‡ç­¾ & åˆ†ç±»**ï¼šçµæ´»çš„æ–‡æ¡£ç»„ç»‡ä½“ç³»
- **æ–‡æ¡£åˆ†äº«**ï¼šç”Ÿæˆæœ‰æ—¶é™é¢„ç­¾å URL

### æ··åˆæœç´¢å¼•æ“

| æœç´¢æ¨¡å¼ | æŠ€æœ¯å®ç° | ç‰¹ç‚¹ |
|----------|----------|------|
| å…³é”®è¯æœç´¢ | PostgreSQL tsvector + GIN ç´¢å¼• | ç²¾ç¡®è¯è¯­åŒ¹é… |
| å‘é‡è¯­ä¹‰æœç´¢ | pgvector + IVFFlat ç´¢å¼• | ç†è§£è¯­ä¹‰å«ä¹‰ |
| **æ··åˆæœç´¢** | **RRF ç®—æ³•èåˆ** | **å‡†ç¡®ç‡æå‡ 20%+** |

### AI é©±åŠ¨çš„ PRD ç”Ÿæˆ

- **å¯¹è¯å¼ç”Ÿæˆ**ï¼šè‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒAI æ™ºèƒ½è¡¥å…¨
- **æµå¼è¾“å‡º**ï¼šå®æ—¶çœ‹åˆ°ç”Ÿæˆè¿‡ç¨‹ï¼Œæ— éœ€ç­‰å¾…
- **RAG ä¸Šä¸‹æ–‡**ï¼šè‡ªåŠ¨æ£€ç´¢æœ€ç›¸å…³å†å²æ–‡æ¡£ä½œä¸ºå‚è€ƒ
- **å¤šè½®è¿­ä»£**ï¼šæŒç»­å¯¹è¯ä¼˜åŒ– PRD å†…å®¹
- **å¼•ç”¨è¿½è¸ª**ï¼šæ¸…æ™°æ˜¾ç¤ºç”Ÿæˆ PRD å‚è€ƒäº†å“ªäº›å†å²æ–‡æ¡£

### åŸå‹ä¸é€»è¾‘å›¾

- **HTML åŸå‹ç”Ÿæˆ**ï¼šä» PRD ä¸€é”®ç”Ÿæˆå¯äº¤äº’ HTML åŸå‹
- **å¤šé¡µåŸå‹**ï¼šæ”¯æŒå¤šé¡µåº”ç”¨åŸå‹ï¼Œé¡µé¢é—´å¯è·³è½¬
- **è®¾å¤‡é¢„è§ˆ**ï¼šå“åº”å¼/ç§»åŠ¨ç«¯/æ¡Œé¢ç«¯ä¸‰ç§é¢„è§ˆæ¨¡å¼
- **Monaco ç¼–è¾‘å™¨**ï¼šç›´æ¥åœ¨æµè§ˆå™¨ä¸­ç¼–è¾‘åŸå‹ä»£ç 
- **é€»è¾‘å›¾ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆ PRD åŠŸèƒ½ç‚¹çš„é€»è¾‘å…³ç³»å›¾
- **è¦†ç›–ç‡åˆ†æ**ï¼šé‡åŒ– PRD å¯¹éœ€æ±‚çš„è¦†ç›–ç¨‹åº¦

### ä¼ä¸šçº§åŠŸèƒ½

- **å¤šå·¥ä½œåŒº**ï¼šéš”ç¦»ä¸åŒé¡¹ç›®çš„æ–‡æ¡£å’Œ PRD
- **ç”¨æˆ·ç®¡ç†**ï¼šJWT è®¤è¯ã€å¯†ç é‡ç½®ã€å¤´åƒä¸Šä¼ 
- **AI æ¨¡å‹é…ç½®**ï¼šç”¨æˆ·è‡ªè¡Œé…ç½®å„ AI æä¾›å•†çš„ API Key
- **å›¾åƒç”Ÿæˆ**ï¼šAI æ–‡ç”Ÿå›¾ï¼Œè¾…åŠ©äº§å“åŸå‹è®¾è®¡
- **æ•°æ®å®‰å…¨**ï¼šæœ¬åœ°éƒ¨ç½²ï¼Œæ–‡æ¡£ä¸ç¦»å¼€ç§æœ‰ç¯å¢ƒ

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

| ä¾èµ– | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Node.js | >= 18 | æ¨è 20 LTS |
| pnpm | >= 8 | åŒ…ç®¡ç†å™¨ |
| PostgreSQL | >= 14 | éœ€å®‰è£… pgvector æ‰©å±• |

### ä¸€é”® Docker å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†é¡¹ç›®
git clone <repo-url> && cd ArchMind

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .envï¼Œè‡³å°‘é…ç½®ä¸€ä¸ª AI æä¾›å•†çš„ API Key

# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåº”ç”¨ + PostgreSQLï¼‰
docker compose up -d

# è®¿é—®åº”ç”¨
open http://localhost:3000
```

### æœ¬åœ°å¼€å‘å®‰è£…

```bash
# 1. å…‹éš†å¹¶å®‰è£…ä¾èµ–
git clone <repo-url> && cd ArchMind
pnpm install

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .envï¼Œå¡«å†™æ•°æ®åº“é…ç½®å’Œ AI API Key

# 3. å‡†å¤‡ PostgreSQLï¼ˆå« pgvector æ‰©å±•ï¼‰
psql -c "CREATE DATABASE archmind;"
psql archmind -c "CREATE EXTENSION IF NOT EXISTS vector;"
psql archmind -c "CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";"

# 4. åˆå§‹åŒ–æ•°æ®åº“
pnpm db:init
pnpm tsx scripts/add-fulltext-search.ts
pnpm tsx scripts/add-version-control.ts
pnpm tsx scripts/create-tags-and-categories-tables.ts
pnpm tsx scripts/migrate-to-multi-model-vectors.ts
pnpm tsx scripts/migrate-add-prd-chunks.ts

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# è®¿é—® http://localhost:3000
```

### æœ€å°é…ç½®ç¤ºä¾‹

åªéœ€é…ç½®æ•°æ®åº“å’Œè‡³å°‘ä¸€ä¸ª AI æä¾›å•†å³å¯è¿è¡Œï¼š

```bash
# .env æœ€å°é…ç½®
DATABASE_URL=postgresql://user:pass@localhost:5432/archmind
JWT_SECRET=your-secret-key-at-least-32-chars
ENCRYPTION_KEY=your-32-char-encryption-key1234

# é€‰æ‹©è‡³å°‘ä¸€ä¸ª AI æä¾›å•†ï¼ˆæ¨è GLMï¼Œæ€§ä»·æ¯”é«˜ï¼‰
GLM_API_KEY=your-glm-api-key

# å­˜å‚¨ï¼ˆåä¸ºäº‘ OBSï¼‰
STORAGE_PROVIDER=huawei-obs
```

---

## æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend (Nuxt 3 + Vue 3.5)                 â”‚
â”‚  Pages(15) Â· Components(181+) Â· Pinia Stores Â· i18n     â”‚
â”‚         shadcn/ui + Tailwind CSS + vue-bits             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP / SSE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              API Layer (Nuxt Nitro)                       â”‚
â”‚    103 REST endpoints Â· JWT Middleware Â· Rate Limiting Â· CSRF Protection Â· Zod Validation  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Service  â”‚  â”‚  RAG Engine   â”‚  â”‚  Business Logic   â”‚
â”‚              â”‚  â”‚               â”‚  â”‚                    â”‚
â”‚  8 Adapters  â”‚  â”‚  Pipeline     â”‚  â”‚  PRD Generator    â”‚
â”‚  (Claude/GPT â”‚  â”‚  TextSplitter â”‚  â”‚  Chat Engine      â”‚
â”‚   Gemini/GLM â”‚  â”‚  Embedding    â”‚  â”‚  Proto Generator  â”‚
â”‚   Qwen/Wxin  â”‚  â”‚  Retriever    â”‚  â”‚  LogicMap Gen     â”‚
â”‚   DeepSeek   â”‚  â”‚  RRF Fusion   â”‚  â”‚                    â”‚
â”‚   Ollama)    â”‚  â”‚               â”‚  â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Layer                             â”‚
â”‚  PostgreSQL 14+ (pgvector) Â· Drizzle ORM Â· 17 DAOs      â”‚
â”‚  Huawei OBS Â· 23+ Tables                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| æ¡†æ¶ | Nuxt 3 | ^3.21.0 |
| è¯­è¨€ | TypeScript | ^5.9.3 |
| UI ç»„ä»¶ | shadcn/ui (Vue) | radix-vue ^1.9.17 |
| æ ·å¼ | Tailwind CSS | ^3.4.19 |
| æ•°æ®åº“ | PostgreSQL + pgvector | 14+ |
| ORM | Drizzle ORM | ^0.29.5 |
| çŠ¶æ€ç®¡ç† | Pinia | ^2.3.1 |
| è¡¨å•éªŒè¯ | VeeValidate + Zod | ^4.15.0 |
| AI æ¡†æ¶ | LangChain.js | ^0.1.37 |
| æµ‹è¯• | Vitest | ^4.0.18 |

---

## AI æ¨¡å‹æ”¯æŒ

æ”¯æŒ 8 å¤§ AI æä¾›å•†ï¼Œæ ¹æ®ä»»åŠ¡è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ¨¡å‹ï¼š

| æä¾›å•† | æ¨¡å‹ | é€‚ç”¨åœºæ™¯ | ç‰¹ç‚¹ |
|--------|------|----------|------|
| Anthropic | Claude 3.5 Sonnet | PRD ç”Ÿæˆ | æœ€ä¼˜å†™ä½œè´¨é‡ |
| OpenAI | GPT-4o | é€šç”¨ä»»åŠ¡ | å¤šæ¨¡æ€èƒ½åŠ› |
| Google | Gemini 1.5 Pro | è¶…é•¿æ–‡æ¡£ | 1M Token ä¸Šä¸‹æ–‡ |
| æ™ºè°± AI | GLM-4.7 | ä¸­æ–‡å†…å®¹ | ä¸­æ–‡ä¼˜åŒ–ï¼Œæ€§ä»·æ¯”é«˜ |
| é˜¿é‡Œäº‘ | é€šä¹‰åƒé—® (Qwen) | ä¸­æ–‡å†…å®¹ | ä¸­æ–‡ä¼˜åŒ– |
| ç™¾åº¦ | æ–‡å¿ƒä¸€è¨€ (Wenxin) | ä¸­æ–‡å†…å®¹ | å›½äº§æ¨¡å‹ |
| DeepSeek | DeepSeek Chat | ä»£ç ä»»åŠ¡ | ä»£ç ç†è§£å¼º |
| Ollama | æœ¬åœ°æ¨¡å‹ | éšç§æ¨¡å¼ | å®Œå…¨ç¦»çº¿ |

**æ™ºèƒ½è·¯ç”±ç­–ç•¥**ï¼ˆ`config/ai-models.yaml`ï¼‰ï¼š

```yaml
preferences:
  prd_generation:  [claude-3.5-sonnet, gpt-4o, glm-4.7]
  chinese_content: [glm-4.7, qwen-max, wenxin-4.0]
  code_tasks:      [gpt-4o, deepseek-chat]
  large_context:   [gemini-1.5-pro]
  cost_sensitive:  [glm-4.5-air, qwen-plus]
  privacy_mode:    [ollama-llama3]
```

ç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨ **è®¾ç½® â†’ Profile â†’ Models Tab** é…ç½®è‡ªå·±çš„ API Keyï¼Œå¹¶è‡ªé€‰æ¯ä¸ªæä¾›å•†çš„å¯ç”¨æ¨¡å‹ã€‚ç³»ç»Ÿæ”¯æŒ API ä¸­è½¬ç«™ï¼ˆè‡ªå®šä¹‰ Base URLï¼‰ï¼Œç”¨æˆ·é…ç½®çš„å¯†é’¥ä¼šä¼˜å…ˆäºç³»ç»Ÿç¯å¢ƒå˜é‡ä½¿ç”¨ã€‚

---

## é…ç½®è¯´æ˜

### å®Œæ•´ç¯å¢ƒå˜é‡

```bash
# ==================== æ•°æ®åº“ ====================
DATABASE_URL=postgresql://user:pass@localhost:5432/archmind
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ==================== å¯¹è±¡å­˜å‚¨ ====================
STORAGE_PROVIDER=huawei-obs

# åä¸ºäº‘ OBS
HUAWEI_OBS_REGION=cn-north-4
HUAWEI_OBS_ACCESS_KEY=your-access-key
HUAWEI_OBS_SECRET_KEY=your-secret-key
HUAWEI_OBS_BUCKET_NAME=archmind

# ==================== AI æ¨¡å‹ ====================
ANTHROPIC_API_KEY=sk-ant-...    # Claude
OPENAI_API_KEY=sk-...           # GPT-4o
GOOGLE_API_KEY=...              # Gemini
GLM_API_KEY=...                 # æ™ºè°± GLM
DASHSCOPE_API_KEY=...           # é€šä¹‰åƒé—®
BAIDU_API_KEY=...               # æ–‡å¿ƒä¸€è¨€ï¼ˆAPI Keyï¼‰
BAIDU_SECRET_KEY=...            # æ–‡å¿ƒä¸€è¨€ï¼ˆSecret Keyï¼‰
DEEPSEEK_API_KEY=...            # DeepSeek
OLLAMA_BASE_URL=http://localhost:11434  # Ollama

# ==================== RAG é…ç½® ====================
EMBEDDING_MODEL=text-embedding-3-small
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K=5
SIMILARITY_THRESHOLD=0.7

# ==================== AI é»˜è®¤ ====================
DEFAULT_MODEL=glm-4.7
DEFAULT_TEMPERATURE=0.7
DEFAULT_MAX_TOKENS=8000

# ==================== é‚®ä»¶ï¼ˆå¯†ç é‡ç½®ï¼‰====================
EMAIL_HOST=smtp.qq.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=your@qq.com
EMAIL_PASS=your-auth-code

# ==================== å®‰å…¨ ====================
JWT_SECRET=your-jwt-secret-min-32-chars
ENCRYPTION_KEY=your-32-char-encryption-key

# ==================== åº”ç”¨ ====================
APP_URL=http://localhost:3000
NODE_ENV=development
```

### AI æ¨¡å‹é…ç½®æ–‡ä»¶

ç¼–è¾‘ `config/ai-models.yaml` è°ƒæ•´æ¨¡å‹è·¯ç”±ç­–ç•¥ï¼š

```yaml
ai_models:
  default: glm-4.7
  fallback: [glm-4.5-air, gpt-4o, claude-3.5-sonnet]
  preferences:
    prd_generation: [claude-3.5-sonnet, gpt-4o, glm-4.7]
    chinese_content: [glm-4.7, qwen-max, wenxin-4.0]
    code_tasks: [gpt-4o, deepseek-chat]
    large_context: [gemini-1.5-pro]

embedding:
  provider: openai
  model: text-embedding-3-small
  dimensions: 1536
```

---

## å¼€å‘æŒ‡å—

### å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
pnpm dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆhttp://localhost:3000ï¼‰
pnpm build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm preview          # é¢„è§ˆç”Ÿäº§æ„å»º

# ä»£ç è´¨é‡
pnpm lint             # ESLint æ£€æŸ¥
pnpm lint:fix         # è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯
pnpm format           # Prettier æ ¼å¼åŒ–
pnpm typecheck        # TypeScript ç±»å‹æ£€æŸ¥

# æµ‹è¯•
pnpm test             # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test:watch       # ç›‘å¬æ¨¡å¼
pnpm test:coverage    # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test:ui          # Vitest UI ç•Œé¢

# æ•°æ®åº“
pnpm db:init          # åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
pnpm db:seed          # æ·»åŠ æµ‹è¯•ç§å­æ•°æ®
pnpm db:migrate       # è¿è¡Œ Schema è¿ç§»

# å­˜å‚¨å¥åº·æ£€æŸ¥
pnpm storage:health   # æ£€æŸ¥å­˜å‚¨è¿æ¥çŠ¶æ€
```

### é¡¹ç›®ç»“æ„

```
ArchMind/
â”œâ”€â”€ pages/              # é¡µé¢ï¼ˆ15 ä¸ªè·¯ç”±ï¼‰
â”‚   â”œâ”€â”€ index.vue       # é¦–é¡µ
â”‚   â”œâ”€â”€ generate.vue    # PRD ç”Ÿæˆç•Œé¢
â”‚   â”œâ”€â”€ knowledge-base.vue  # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”œâ”€â”€ prototypes.vue  # åŸå‹åˆ—è¡¨
â”‚   â”œâ”€â”€ projects/[id].vue   # PRD é¡¹ç›®è¯¦æƒ…
â”‚   â””â”€â”€ settings/       # ç”¨æˆ·è®¾ç½®
â”‚
â”œâ”€â”€ server/api/         # API è·¯ç”±ï¼ˆ111 ä¸ªç«¯ç‚¹ï¼‰
â”‚   â”œâ”€â”€ auth/           # è®¤è¯æ¥å£
â”‚   â”œâ”€â”€ documents/      # æ–‡æ¡£ç®¡ç†
â”‚   â”œâ”€â”€ prd/            # PRD ç”Ÿæˆ
â”‚   â”œâ”€â”€ chat/           # æµå¼å¯¹è¯
â”‚   â”œâ”€â”€ prototypes/     # åŸå‹ç®¡ç†
â”‚   â””â”€â”€ ai/             # AI é…ç½®
â”‚
â”œâ”€â”€ components/         # Vue ç»„ä»¶ï¼ˆ181+ï¼‰
â”‚   â”œâ”€â”€ ui/             # shadcn/ui åŸºç¡€ç»„ä»¶ï¼ˆ30+ï¼‰
â”‚   â”œâ”€â”€ chat/           # å¯¹è¯ç»„ä»¶
â”‚   â”œâ”€â”€ prototype/      # åŸå‹ç»„ä»¶
â”‚   â”œâ”€â”€ documents/      # æ–‡æ¡£ç»„ä»¶
â”‚   â””â”€â”€ logic-map/      # é€»è¾‘å›¾ç»„ä»¶
â”‚
â”œâ”€â”€ lib/                # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ ai/             # AI æœåŠ¡å±‚ï¼ˆ10 ä¸ªé€‚é…å™¨ï¼‰
â”‚   â”œâ”€â”€ rag/            # RAG å¼•æ“
â”‚   â”œâ”€â”€ prd/            # PRD ç”Ÿæˆå¼•æ“
â”‚   â”œâ”€â”€ prototype/      # åŸå‹ç”Ÿæˆ
â”‚   â”œâ”€â”€ logic-map/      # é€»è¾‘å›¾ç”Ÿæˆ
â”‚   â”œâ”€â”€ db/             # æ•°æ®åº“å±‚ï¼ˆ17 ä¸ª DAOï¼‰
â”‚   â””â”€â”€ storage/        # å¯¹è±¡å­˜å‚¨æŠ½è±¡
â”‚
â”œâ”€â”€ composables/        # Vue ç»„åˆå¼å‡½æ•°ï¼ˆ9 ä¸ªï¼‰
â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†ï¼ˆ3 ä¸ªï¼‰
â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰ï¼ˆ13 ä¸ªï¼‰
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ ai-models.yaml  # AI æ¨¡å‹é…ç½®
â”œâ”€â”€ migrations/         # æ•°æ®åº“è¿ç§» SQL
â”œâ”€â”€ scripts/            # å·¥å…·è„šæœ¬ï¼ˆ19 ä¸ªï¼‰
â”œâ”€â”€ tests/              # æµ‹è¯•æ–‡ä»¶ï¼ˆ18 ä¸ªï¼Œ292+ ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œ~89% è¦†ç›–ç‡ï¼‰
â””â”€â”€ docs/               # é¡¹ç›®æ–‡æ¡£ï¼ˆ31 ä¸ªï¼‰
    â””â”€â”€ WIKI.md         # é¡¹ç›®ç™¾ç§‘å…¨ä¹¦ï¼ˆå®Œæ•´å‚è€ƒæ‰‹å†Œï¼‰
```

### å¼€å‘è§„èŒƒ

**UI ç»„ä»¶**ï¼šåªä½¿ç”¨ `~/components/ui/` ä¸‹çš„ shadcn/ui ç»„ä»¶ï¼Œä¸å¼•å…¥å…¶ä»– UI åº“ã€‚

**æ ·å¼**ï¼šåªä½¿ç”¨ Tailwind CSS åŸå­ç±»ï¼Œæ¡ä»¶ç±»ä½¿ç”¨ `cn()` å‡½æ•°ã€‚

**API è·¯ç”±**ï¼šéµå¾ª"éªŒè¯ â†’ é‰´æƒ â†’ ä¸šåŠ¡ â†’ è¿”å›"å››æ­¥æ¨¡å¼ï¼Œä½¿ç”¨ Zod è¿›è¡Œè¾“å…¥éªŒè¯ã€‚

**æäº¤è§„èŒƒ**ï¼šéµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)ï¼ˆ`feat/fix/docs/refactor/test/chore`ï¼‰ã€‚

---

## éƒ¨ç½²æŒ‡å—

### Docker Compose éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼ˆå« Nginx åå‘ä»£ç†ï¼‰
docker compose --profile production up -d

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker compose ps

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker compose logs -f app
```

### æ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. æ„å»º
pnpm build

# 2. å¯åŠ¨ï¼ˆä½¿ç”¨ PM2 è¿›ç¨‹ç®¡ç†ï¼‰
npm install -g pm2
pm2 start .output/server/index.mjs --name archmind

# 3. å¼€æœºè‡ªå¯
pm2 save && pm2 startup
```

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

| é…ç½®é¡¹ | å»ºè®®å€¼ | è¯´æ˜ |
|--------|--------|------|
| `DATABASE_POOL_MAX` | 20 | é«˜å¹¶å‘ä¸‹æé«˜è¿æ¥æ± ä¸Šé™ |
| `STORAGE_PROVIDER` | `huawei-obs` | ä½¿ç”¨åä¸ºäº‘ OBS å¯¹è±¡å­˜å‚¨ |
| `NODE_ENV` | `production` | å¯ç”¨ç”Ÿäº§æ¨¡å¼ä¼˜åŒ– |
| JWT æœ‰æ•ˆæœŸ | æ ¹æ®å®‰å…¨éœ€æ±‚ | å½“å‰é»˜è®¤ 7 å¤© |

### å¥åº·æ£€æŸ¥

```bash
# API å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/health

# å­˜å‚¨è¿æ¥æ£€æŸ¥
pnpm storage:health
```

---

## æ–‡æ¡£å¯¼èˆª

| æ–‡æ¡£ | æè¿° |
|------|------|
| **[docs/WIKI.md](./docs/WIKI.md)** | **é¡¹ç›®ç™¾ç§‘å…¨ä¹¦ï¼ˆå®Œæ•´å‚è€ƒæ‰‹å†Œï¼‰** |
| [CHANGELOG.md](./CHANGELOG.md) | ç‰ˆæœ¬å˜æ›´å†å²ä¸è·¯çº¿å›¾ |
| [CONTRIBUTING.md](./CONTRIBUTING.md) | è´¡çŒ®æŒ‡å— |
| [docs/æŠ€æœ¯è·¯çº¿ä¸æ¶æ„æ–‡æ¡£.md](./docs/æŠ€æœ¯è·¯çº¿ä¸æ¶æ„æ–‡æ¡£.md) | ç³»ç»Ÿæ¶æ„è¯¦ç»†è®¾è®¡ |
| [docs/è¯¦ç»†è®¾è®¡/](./docs/è¯¦ç»†è®¾è®¡/) | å„æ¨¡å—è¯¦ç»†è®¾è®¡æ–‡æ¡£ |
| [docs/SHADCN_USAGE.md](./docs/SHADCN_USAGE.md) | shadcn/ui ç»„ä»¶ä½¿ç”¨æŒ‡å— |
| [docs/GLM_INTEGRATION.md](./docs/GLM_INTEGRATION.md) | æ™ºè°± AI GLM é›†æˆæŒ‡å— |
| [docs/WORKSPACE_GUIDE.md](./docs/WORKSPACE_GUIDE.md) | å¤šå·¥ä½œåŒºä½¿ç”¨æŒ‡å— |
| [docs/LOGIC_COVERAGE.md](./docs/LOGIC_COVERAGE.md) | é€»è¾‘è¦†ç›–ç‡åŠŸèƒ½è¯´æ˜ |
| [docs/I18N.md](./docs/I18N.md) | å›½é™…åŒ–é…ç½®æŒ‡å— |
| [docs/huawei-obs-deployment.md](./docs/huawei-obs-deployment.md) | åä¸ºäº‘ OBS éƒ¨ç½²æŒ‡å— |

---

## è·¯çº¿å›¾

### v0.2.1ï¼ˆå·²å‘å¸ƒ âœ…ï¼‰

å®‰å…¨åŠ å›ºä¸ç¨³å®šæ€§ä¿®å¤ï¼š
- âœ… **å·¥ä½œåŒºæƒé™éš”ç¦»**ï¼š6 ä¸ª API ç«¯ç‚¹æ ¡éªŒæˆå‘˜èº«ä»½å’Œè§’è‰²æƒé™
- âœ… **JWT / API Key å¼±å¯†é’¥ä¿®å¤**ï¼šç”Ÿäº§ç¯å¢ƒæœªé…ç½®æ—¶å¯åŠ¨æŠ¥é”™
- âœ… **PRD å†…å®¹ XSS é˜²æŠ¤**ï¼šDOMPurify å‡€åŒ– marked() è¾“å‡º
- âœ… **AI é€‚é…å™¨ç¨³å®šæ€§**ï¼šç©º choices é˜²å´©æºƒã€ModelManager ç«æ€ä¿®å¤
- âœ… **PRD çŸ¥è¯†åº“ç´¢å¼•ä¿®å¤**ï¼šprd_chunks è¡¨ + document_embeddings FK çº¦æŸ
- âœ… **localStorage å¥å£®æ€§**ï¼šæ•°æ®æŸåè‡ªåŠ¨æ¢å¤ã€å†™å…¥é…é¢æº¢å‡ºå¤„ç†

### v0.2.0ï¼ˆå·²å‘å¸ƒ âœ…ï¼‰

å·²å®Œæˆï¼š
- âœ… **Rate Limiting ä¸­é—´ä»¶**ï¼šIP + è·¯å¾„çº§åˆ«è¯·æ±‚é™æµï¼Œæ—  Redis ä¾èµ–
- âœ… **CSRF ä¿æŠ¤ä¸­é—´ä»¶**ï¼šOrigin/Referer æ¥æºæ ¡éªŒï¼Œé˜²è·¨ç«™è¯·æ±‚ä¼ªé€ 
- âœ… **æ··åˆæœç´¢ RRF æ­£å¼å¯ç”¨**ï¼š`retrieve()` é»˜è®¤èµ° RRF æ··åˆæœç´¢ï¼ŒPRD ç”Ÿæˆ & å¯¹è¯æ£€ç´¢è´¨é‡æå‡
- âœ… **ç»“æ„åŒ–æ—¥å¿—ç³»ç»Ÿ**ï¼špino-based JSON æ—¥å¿—ï¼Œæ”¯æŒè¯·æ±‚è¿½è¸ª
- âœ… **æµ‹è¯•è¦†ç›–ç‡**ï¼šä» 15% æå‡è‡³ 89%
- âœ… **Sentry é”™è¯¯ç›‘æ§**ï¼šå‰åç«¯å…¨é“¾è·¯é”™è¯¯è¿½è¸ª

### v0.1.1ï¼ˆå·²å‘å¸ƒï¼‰
ç”¨æˆ·çº§ AI é…ç½®æ•°æ®éš”ç¦»ã€å…¨å±€ JWT è®¤è¯ä¸­é—´ä»¶ã€è‡ªå®šä¹‰ API Base URL æ”¯æŒã€åŠ¨æ€æ¨¡å‹åˆ—è¡¨è·å–ã€æ¨¡å‹é…ç½® UI æ•´åˆè‡³ Profile é¡µé¢

### v0.1.0ï¼ˆå·²å‘å¸ƒï¼‰
æ–‡æ¡£ç®¡ç†ã€RAG æœç´¢ã€PRD ç”Ÿæˆã€åŸå‹ç³»ç»Ÿã€é€»è¾‘å›¾ã€å›¾åƒç”Ÿæˆã€å¤šå·¥ä½œåŒºã€ç”¨æˆ·ç³»ç»Ÿ

### v0.3.0ï¼ˆå¼€å‘ä¸­ ğŸš§ï¼‰
- âœ… **WebSocket å®æ—¶é€šä¿¡**ï¼šNitro åŸç”Ÿ WebSocketï¼Œæ”¯æŒé‰´æƒã€å·¥ä½œåŒºæˆ¿é—´ã€å¿ƒè·³ä¿æ´»
- ğŸ”„ **å›¢é˜Ÿåä½œ**ï¼šè¯„è®ºç³»ç»Ÿã€@æåŠã€æ´»åŠ¨æ—¥å¿—ã€æˆå‘˜åœ¨çº¿çŠ¶æ€
- ğŸ”„ **OpenAPI æ–‡æ¡£ UI**ï¼š@scalar/nuxt é›†æˆï¼Œå†…ç½®äº¤äº’å¼ API æ–‡æ¡£
- ğŸ”„ **Docker ç”Ÿäº§é…ç½®**ï¼šèµ„æºé™åˆ¶ã€æ—¥å¿—è½®è½¬ã€Nginx WebSocket ä»£ç†ã€å¤‡ä»½è„šæœ¬
- ğŸ”„ **E2E æµ‹è¯•ï¼ˆPlaywrightï¼‰**ï¼šæ ¸å¿ƒç”¨æˆ·æµç¨‹æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¿½ï¿½ï¿½è¯•

### v1.0.0ï¼ˆè®¡åˆ’ä¸­ï¼‰
- RBAC æƒé™ç³»ç»Ÿ
- æ‰¹é‡æ•°æ®å¯¼å‡º/å¯¼å…¥
- Kubernetes éƒ¨ç½²é…ç½®
- æ’ä»¶ç³»ç»Ÿ

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æµç¨‹

```bash
# 1. Fork å¹¶å…‹éš†
git clone https://github.com/your-fork/archmind.git

# 2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
git checkout -b feat/your-feature

# 3. å¼€å‘å¹¶æµ‹è¯•
pnpm test

# 4. æäº¤ï¼ˆéµå¾ª Conventional Commitsï¼‰
git commit -m "feat: add your feature"

# 5. æ¨é€å¹¶åˆ›å»º Pull Request
git push origin feat/your-feature
```

### PR æ£€æŸ¥æ¸…å•

- [ ] ä»£ç é€šè¿‡ `pnpm lint` æ£€æŸ¥
- [ ] ä»£ç é€šè¿‡ `pnpm typecheck` æ£€æŸ¥
- [ ] ç›¸å…³æµ‹è¯•é€šè¿‡ `pnpm test`
- [ ] æ–°åŠŸèƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
- [ ] å¿…è¦æ—¶æ›´æ–°æ–‡æ¡£

---

## æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æµ‹é‡å€¼ |
|------|--------|
| æ‰¹é‡ä¸Šä¼ ï¼ˆ10 æ–‡ä»¶ Ã— 5MBï¼‰ | ~8 ç§’ |
| æ··åˆæœç´¢ï¼ˆ1000 æ–‡æ¡£åº“ï¼‰ | < 2 ç§’ |
| æ··åˆ vs å•ä¸€æœç´¢å‡†ç¡®ç‡ | +20% |
| PRD æµå¼ç”Ÿæˆé¦– Token | < 2 ç§’ |

---

## å®‰å…¨è¯´æ˜

- **JWT è®¤è¯**ï¼šå…¨å±€ä¸­é—´ä»¶ç»Ÿä¸€æ‹¦æˆªï¼Œæ‰€æœ‰ API æ¥å£å¼ºåˆ¶è®¤è¯ï¼Œä»¤ç‰Œ 7 å¤©æœ‰æ•ˆï¼›ç”Ÿäº§ç¯å¢ƒæœªè®¾ç½® `JWT_SECRET` æ—¶å¯åŠ¨å³æŠ¥é”™
- **å¯†ç å®‰å…¨**ï¼šbcrypt å“ˆå¸Œï¼ˆcost 12ï¼‰ï¼Œå¯†ç ä¸å¯é€†
- **API Key åŠ å¯†**ï¼šç”¨æˆ·é…ç½®çš„ AI API Key ä½¿ç”¨ AES-256 åŠ å¯†å­˜å‚¨ï¼ŒæŒ‰ç”¨æˆ·éš”ç¦»ï¼›ç”Ÿäº§ç¯å¢ƒæœªè®¾ç½® `API_KEY_ENCRYPTION_SECRET` æ—¶å¯åŠ¨å³æŠ¥é”™
- **å·¥ä½œåŒºæƒé™éš”ç¦»**ï¼š6 ä¸ªå·¥ä½œåŒº API ç«¯ç‚¹ï¿½ï¿½ï¿½éªŒç”¨æˆ·æˆå‘˜èº«ä»½ä¸è§’è‰²ï¼ˆmember/admin/ownerï¼‰ï¼Œæ‹’ç»è¶Šæƒè®¿é—®
- **XSS é˜²æŠ¤**ï¼šPRD å†…å®¹æ¸²æŸ“å‰é€šè¿‡ DOMPurify å‡€åŒ–ï¼Œä»…å…è®¸å®‰å…¨çš„ HTML æ ‡ç­¾ä¸å±æ€§
- **Rate Limiting**ï¼šIP + è·¯å¾„çº§åˆ«è¯·æ±‚é™æµï¼ˆè®¤è¯æ¥å£ 10 æ¬¡/åˆ†é’Ÿï¼ŒAI ç”Ÿæˆ 20 æ¬¡/åˆ†é’Ÿï¼Œå…¶ä»– 120 æ¬¡/åˆ†é’Ÿï¼‰
- **CSRF ä¿æŠ¤**ï¼šOrigin/Referer æ¥æºæ ¡éªŒï¼Œé˜²è·¨ç«™è¯·æ±‚ä¼ªé€ 
- **ç”¨æˆ·æ•°æ®éš”ç¦»**ï¼šAI é…ç½®ã€å‘é‡ç»Ÿè®¡ç­‰æ•°æ®å‡æŒ‰ç”¨æˆ·ç‹¬ç«‹å­˜å‚¨ï¼Œä¸åŒç”¨æˆ·çš„æ•°æ®å®Œå…¨éš”ç¦»
- **æ–‡ä»¶è®¿é—®**ï¼šä½¿ç”¨é¢„ç­¾å URLï¼Œé™æ—¶æœ‰æ•ˆï¼ˆé»˜è®¤ 1 å°æ—¶ï¼‰
- **æœ¬åœ°ä¼˜å…ˆ**ï¼šæ‰€æœ‰æ–‡æ¡£å­˜å‚¨åœ¨ç§æœ‰æ•°æ®åº“ï¼Œä¸ä¸Šä¼ è‡³ç¬¬ä¸‰æ–¹
- **éšç§æ¨¡å¼**ï¼šä½¿ç”¨ Ollama æœ¬åœ°æ¨¡å‹å¯å®ç° AI è°ƒç”¨å®Œå…¨ç¦»çº¿

---

## æŠ€æœ¯æ”¯æŒ

- æŸ¥é˜… [é¡¹ç›®ç™¾ç§‘å…¨ä¹¦](./docs/WIKI.md) äº†è§£æ‰€æœ‰æŠ€æœ¯ç»†èŠ‚
- æäº¤ [GitHub Issue](https://github.com/your-org/archmind/issues) æŠ¥å‘Šé—®é¢˜
- å‚è€ƒ [CLAUDE.md](./CLAUDE.md) äº†è§£ AI è¾…åŠ©å¼€å‘è§„èŒƒ

---

## License

[GPL-3.0](LICENSE)

---

## è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„äººï¼

<a href="https://github.com/ssyamv/ArchMind/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=ssyamv/ArchMind" alt="Contributors" />
</a>

---

<p align="center">
  Built with Nuxt 3 Â· PostgreSQL Â· pgvector Â· shadcn/ui
</p>
